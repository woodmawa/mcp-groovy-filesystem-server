spring:
  application:
    name: mcp-groovy-filesystem-server
  main:
    web-application-type: ${MCP_WEB_TYPE:servlet}
  jackson:
    default-property-inclusion: non_null

mcp:
  mode: ${MCP_MODE:http}
  
  filesystem:
    # Allowed directories for file operations
    # Note: C:/Users/willw covers all subdirectories including:
    #   - AppData/Roaming/Claude (config: claude_desktop_config.json)
    #   - AppData/Local/Claude (logs, cache)
    #   - .vscode-remote/Claude (remote logs)
    #   - IdeaProjects (your projects)
    #   - claude (your workspace)
    allowed-directories: C:/Users/willw/IdeaProjects,C:/Users/willw/claude,C:/Users/willw
    max-file-size-mb: 10
    enable-write: true
    # Allow following symbolic links (default: false for security)
    allow-symlinks: false
  
  # Script execution security settings
  script:
    max-memory-mb: 256
    max-threads: 10
    max-execution-time-seconds: 60
    max-script-length: 100000
    enable-dangerous-pattern-check: true
    enable-file-path-validation: true
    enable-audit-logging: true

logging:
  level:
    root: INFO
    com.softwood.mcp: DEBUG

---
# STDIO Mode Profile
# Note: Logging still enabled but goes to STDERR and file only (STDOUT reserved for MCP JSON-RPC)
spring:
  config:
    activate:
      on-profile: stdio
  main:
    banner-mode: off
server:
  port: 0

mcp:
  mode: stdio

logging:
  level:
    root: INFO
    com.softwood.mcp: DEBUG
    org.springframework: WARN
    # Keep audit logging in stdio mode
    com.softwood.mcp.service.AuditService: INFO
